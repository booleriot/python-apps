app_version: 1.0.0
name: MQTT
description: MQTT 订阅和发送消息.
contact_info:
  name: "rbt"
tags:
  - Mqtt
categories:
  - Intel
  - Network
authentication:
  required: true
  parameters:
    - name: server
      description: MQTT broker 域名或IP地址
      example: "mqtt.com or 127.0.0.1"
      required: true
      schema:
        type: string
    - name: user
      description: MQTT 用户名
      example: "root"
      required: true
      schema:
        type: string
    - name: password
      description: MQTT 用户密码
      example: "*****"
      required: true
      schema:
        type: string
actions:
  - name: subcribe_msg
    description: 订阅消息
    parameters:
      - name: submsg
        description: 订阅消息内容
        required: true
        multiline: false
        example: "my_database"
        schema:
          type: string
      - name: tables
        description: create new tables
        required: false
        multiline: true
        example: '|
          {
            "employees": "CREATE TABLE `employees` (  `emp_no` int(11) NOT NULL AUTO_INCREMENT, `first_name` varchar(14) NOT NULL,  `last_name` varchar(16) NOT NULL,  PRIMARY KEY (`emp_no`)) ENGINE=InnoDB",
            "departments": "CREATE TABLE `departments` (  `dept_no` char(4) NOT NULL,  `dept_name` varchar(40) NOT NULL,  PRIMARY KEY (`dept_no`), UNIQUE KEY `dept_name` (`dept_name`)) ENGINE=InnoDB"
          }'
        schema:
          type: string
    returns:
      schema:
        type: string